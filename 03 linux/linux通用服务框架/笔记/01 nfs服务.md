## NFS（network file system）

什么是 NFS (Network FileSystem)
NFS 就是 Network FileSystem 的缩写，最早之前是由 Sun 这家公司所发展出来的 。 它最大的功能就是可以透过网络，让不同的机器、不同的操作系统、可以彼此分享个别的档案 (share files)。所以，你也可以简单的将他看做是一个文件服务器 (file server) 呢！这个 NFS 服务器可以让你的 PC 来将网络远程的 NFS 服务器分享的目录，挂载到本地端的机器当中， 在本地端的机器看起来，那个远程主机的目录就好像是自己的一个磁盘分区槽一样 (partition)。

![[nfs服务器分享目录示意图.png]]

nfs服务端口2049（外部链接）/etc/services 文件下可以查看nfs服务端口默认是2049
nfs 传输端口：1024以下随机端口（传输数据用）
客户端获取远程传输端口 ：RPC协议(Remote Procedure Call, RPC)远程过程调用协议

RPC服务：111端口

> 因为 NFS 支持的功能相当的多，而不同的功能都会使用不同的程序来启动， 每启动一个功能就会启用一些端口口来传输数据，因此， NFS 的功能所对应的端口口才没有固定住， 而是随机取用一些未被使用的小于 1024 的埠口来作为传输之用。但如此一来又造成客户端想要连上服务器时的困扰， 因为客户端得要知道服务器端的相关埠口才能够联机吧！ 此时我们就得需要远程过程调用 (RPC) 的服务啦！RPC 最主要的功能就是在指定每个 NFS 功能所对应的 port number ，并且回报给客户端，让客户端可以连结到正确的埠口上去。 那 RPC 又是如何知道每个 NFS 的埠口呢？这是因为当服务器在启动NFS 时会随机取用数个埠口，并主动的向 RPC 注册，因此 RPC 可以知道每个端口口对应的 NFS 功能，然后 RPC 又是固定使用 port 111 来监听客户端的需求并回报客户端正确的埠口， 所以当然可以让 NFS 的启动更为轻松愉快了！
